<!DOCTYPE html>
<html lang = "en">
<head>
    <meta charset = "UTF-8">
    <meta name = viewport" content = "width=device-width, initial-scale=1.0">
    <meta http-equiv = "X-UA-Compatible" content = "ie=edge">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <title>Gifceptatron Collider</title>
</head>
<body>
    <div class = "container">
        <div class = "row align-items-start">
            <div class = "col-2">
                
            </div>
            <div class = "col-8">
                <!--Title-->
                <h1>Gifceptatron Collider</h1>
            </div>
            <div class = "col-2">
                <!--plan is to refresh document/ clear local storage-->
                <button>reset</button>
            </div>
        </div>
        <!--Content Area-->
        <div class = "row align-items-center">
            <div class = "col-3">
                <div class = "row">
                <!--Enter input here-->
                Search realm of ...
                <input id = "inputvalue" type = "text" label = "Search realm of ..."></input>
                <!--This button adds value of form and 
                    creates a button to the list-->
                 <button type = "submit" id = "searchinput">Submit</button>
                  
                </div>
                <br>
                <p>Quantum Entry Reflector Console:</p>
                <div class = "row" id = "buttonList">

                </div>
            </div>
            
            <div class = "col-9" >
                <p>Quantum Reality Window:</p>
                <!--Gifs populate the field below-->
                <div id = "gifResults">

                </div>
            </div>
            
        </div>
        <div class = "row align-items-end">
            <div class = "col">
            </div>
            <div class = "col">
            </div>
            <div class = "col">
            </div>
        </div>
    </div>
<!--Javascript-->
<script src="https://code.jquery.com/jquery.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0/js/bootstrap.bundle.min.js"></script>
<script type="text/javascript">
//on click of event of submit button. Must grab value of input form. 

//assign its attributes and take input form value and assign as button name
//Must write input value to array.
//for loops create buttons of whats in array.
//append created button to "Quantum Entry Reflector Console"



$("#searchinput").on("click", function(event){
    
    // var getEntry = $("#inputvalue").val();
    // //sends value of input box to array of entryList
    // entryList.push(getEntry);

    // //should create new button upon click with the value of input box
    // var buttonMaker = $("<input/>").attr({
    //     type: "button",
    //     id: "getEntry",
    //     value: getEntry
    // });
    
    // //appends the new button to document only once.
    // $("buttonList").append(buttonMaker);
    
    // console.log(entryList)

//     var topics = ['bikram', 'yoga', 'vegan', 'vegetarian', 'nutrition',    'exercise', 'pilates','calisthenics', 'ashtanga', 'vinyasa', 'utkatasana']
// for (var i = 0; i < topics.length; i++) { 
//     var buttons = $('<button>'+ topics[i] + '</button>') 
//     buttons.appendTo('#topics'); 
// } 
    var entryList = []
    var getEntry = $("#inputvalue").val()
    var buttonMaker = $("<input>").attr({
         type: "button",
         id: "getEntry",
         value: getEntry
        });
    entryList.push(getEntry)

    console.log(entryList)
    console.log(getEntry)
    
    

    for (var i = 0; i < entryList.length; i++){
        $("#buttonList").append(buttonMaker);
    }
        
        /*var getEntry = $("#inputvalue").val()
        var buttonMaker = $("<input/>").attr({
         type: "button",
         id: "getEntry",
         value: getEntry
        }); 
        
        if (getEntry != [i]){
            entryList.push(getEntry)
            ("#buttonList").append(buttonMaker);
        }*/
    

    var queryURL = "https://api.giphy.com/v1/gifs/search?q=" + getEntry +
    "&api_key=weyxYr9S515UdP0EurTWnkuidCOjLJhA"
    $.ajax({
        url: queryURL,
        method: "GET"
      })
    .then(function(response) {
          // Storing an array of results in the results variable
          var results = response.data;

          // Looping over every result item
          for (var i = 0; i < results.length; i++) {

            // Only taking action if the photo has an appropriate rating
              // Creating a div for the gif
            var gifDiv = $("<div>").attr();

              // Storing the result item's rating
              var rating = results[i].rating;

              // Creating a paragraph tag with the result item's rating
              var p = $("<p>").text("Rating: " + rating);

              // Creating an image tag
              var personImage = $("<img>");

              // Giving the image tag an src attribute of a proprty pulled off the
              // result item
              personImage.attr("src", results[i].images.fixed_height.url);

              // Appending the paragraph and personImage we created to the "gifDiv" div we created
              gifDiv.append(p);
              gifDiv.append(personImage);

              // Prepending the gifDiv to the "#gifs-appear-here" div in the HTML
              $("#gifs-appear-here").prepend(gifDiv);
            
          }
        });

    });









</script>
</body>
</html>